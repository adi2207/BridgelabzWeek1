<div class="background">
    <mat-toolbar class="headercontainer">
        <span class="headerr" fxLayout="row" fxLayoutAlign="start center">
            <button class="menuicon" mat-icon-button (click)="drawer.toggle()" matTooltip="Main menu">
                        <mat-icon>menu</mat-icon>
                    </button>
            <img class="logoimg" src="../../../assets/images/keep_app_logo.png">
            <span class="appname">fundooApp</span>
        </span>
        <span fxLayout="row" fxLayoutAlign="center center" fxFlex="70" fxHide.xs>
        <mat-card class="searchbar" fxFlex="90" fxLayout="row" fxLayoutAlign="center center" tabindex="0">
            <button mat-icon-button class="searchicon" (click)="onSearch()" fxLayoutAlign="center center">
                <mat-icon matTooltip="Search">search</mat-icon>
            </button>
            <input matInput fxFlex="90" class ="searchtext" matInput placeholder="Search" [(ngModel)]="searchText" routerLink="/search">
            <button mat-icon-button class="searchicon">
                    <mat-icon matTooltip="Clear search">close</mat-icon>
                </button>
        </mat-card>
        </span>
        <button mat-icon-button>
            <img class="headerbuttons" src="../../../assets/images/icons8-settings.svg">
        </button>
        <button mat-icon-button matTooltip="List View">
            <img class="headerbuttons" src="../../../assets/images/icons8-view-headline-32.png">
        </button>
        <img mat-card-avatar class="profilepic" [src]="profilepic" [matMenuTriggerFor]="accountmenu">
        <mat-menu #accountmenu class="accountmenu" overlapTrigger=false>
            <div fxLayout="column">
                <div fxLayout="row" class="tophalfaccount">
                    <img mat-card-avatar class="profilepicbig" [src]="profilepic" (click)="onChangeImage()">
                    <div fxLayout="column" fxLayoutAlign="center start">
                        <span class="accountname">{{firstName}} {{lastName}}</span>
                        <span class="accountemail">{{email}}</span>
                    </div>
                </div>
                <mat-divider></mat-divider>
                <div fxLayout="row" class="bottomhalfaccount">
                    <span fxFlex="50">
                    <button class="accountbutton" (click)="onSignOut()">Sign Out</button>
                    </span>
                    <span fxFlex="50" fxLayoutAlign="flex-end">
                    <button class="accountbutton" routerLink="/register">Add account</button>

                    </span>
                </div>
            </div>
        </mat-menu>
    </mat-toolbar>

    <mat-divider></mat-divider>
    <mat-drawer-container class="sidebar-container">
        <mat-drawer #drawer class="sidenav-main" mode="side" fxHide.xs opened>

            <mat-nav-list fxLayout="column" fxLayoutGap="20px">
                <mat-icon fxLayout="row" fxLayoutAlign="start center">note<a mat-list-item routerLink="/notes">Notes</a>
                </mat-icon>
                <mat-icon fxLayout="row" fxLayoutAlign="start center">notifications_none<a mat-list-item>Reminders</a>
                </mat-icon>
                <mat-divider></mat-divider>
                <span class="labelsheading" mat-list-item>LABELS</span>
                <div *ngFor="let label of labels">
                    <a class="labellist" mat-list-item (click)="onClickingLabel()" routerLink="/labels/{{label.label}}"><img class="sidenavicon" src="../../../assets/images/label-right-arrow-outline (1).svg"><span class="labelname">{{label.label}}</span></a>
                </div>
                <a class="labellist" mat-list-item (click)="openLabelDialog()"><img class="sidenavicon" src="../../../assets/images/edit.svg"><span class="labelname">Edit labels</span></a>
                <mat-divider></mat-divider>

                <mat-icon fxLayout="row" fxLayoutAlign="start center">archive<a mat-list-item routerLink="/archive">Archive</a></mat-icon>
                <mat-icon fxLayout="row" fxLayoutAlign="start center">delete_outline<a mat-list-item routerLink="/trash">Trash</a>
                </mat-icon>
            </mat-nav-list>
        </mat-drawer>
        <mat-drawer-content>
            <router-outlet></router-outlet>
        </mat-drawer-content>
    </mat-drawer-container>
</div>

<!-- <mat-menu #belowMenu="matMenu" [overlapTrigger]="false">
    <div class='ProfileInfo' fxLayout="column">
        <div fxFlex=90 fxLayout="row">
            <div fxFlex=40 fxLayoutAlign="center center">
                <mat-icon class='icon-display'>account_circle</mat-icon>
            </div>
            <div fxFlex=60>
                <p>{{firstName+' '+lastName}}</p>
                <p>{{email}}</p>
            </div>
        </div>
        <div fxFlex=10 fxLayout="row">
            <div fxFlex=50>
                <button mat-menu-item routerLink="/login"> Add Account</button>
            </div>
            <div fxFlex=50>
                <button mat-menu-item *ngIf="auth.isLoggednIn()" (click)="auth.logout()">Logout</button>
            </div>
        </div>
    </div>
</mat-menu> -->